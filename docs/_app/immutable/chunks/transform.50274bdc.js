import{a as O}from"./index.637a572d.js";import{M as A}from"./scheduler.5250af04.js";function C(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function D(t,e){t.d(1),e.delete(t.key)}function E(t,e,n,i,d,M,f,S,x,j,y,I){let u=t.length,o=M.length,c=u;const k={};for(;c--;)k[t[c].key]=c;const l=[],w=new Map,g=new Map,v=[];for(c=o;c--;){const s=I(d,M,c),h=n(s);let r=f.get(h);r?i&&v.push(()=>r.p(s,e)):(r=j(h,s),r.c()),w.set(h,l[c]=r),h in k&&g.set(h,Math.abs(c-k[h]))}const N=new Set,X=new Set;function m(s){O(s,1),s.m(S,y),f.set(s.key,s),y=s.first,o--}for(;u&&o;){const s=l[o-1],h=t[u-1],r=s.key,p=h.key;s===h?(y=s.first,u--,o--):w.has(p)?!f.has(r)||N.has(r)?m(s):X.has(p)?u--:g.get(r)>g.get(p)?(X.add(r),m(s)):(N.add(p),u--):(x(h,f),u--)}for(;u--;){const s=t[u];w.has(s.key)||x(s,f)}for(;o;)m(l[o-1]);return A(v),l}function F(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}class G extends Map{constructor(e,n=q){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,d]of e)this.set(i,d)}get(e){return super.get(Y(this,e))}has(e){return super.has(Y(this,e))}set(e,n){return super.set(P(this,e),n)}delete(e){return super.delete(T(this,e))}}function Y({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function P({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function T({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function q(t){return t!==null&&typeof t=="object"?t.valueOf():t}function a(t,e,n){this.k=t,this.x=e,this.y=n}a.prototype={constructor:a,scale:function(t){return t===1?this:new a(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new a(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};a.prototype;export{G as I,D as a,F as d,C as e,E as u};
