function A(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function M(e,n){return e==null||n==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}class y extends Map{constructor(n,t=m){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),n!=null)for(const[s,o]of n)this.set(s,o)}get(n){return super.get(h(this,n))}has(n){return super.has(h(this,n))}set(n,t){return super.set(N(this,n),t)}delete(n){return super.delete(k(this,n))}}function h({_intern:e,_key:n},t){const s=n(t);return e.has(s)?e.get(s):t}function N({_intern:e,_key:n},t){const s=n(t);return e.has(s)?e.get(s):(e.set(s,t),t)}function k({_intern:e,_key:n},t){const s=n(t);return e.has(s)&&(t=e.get(s),e.delete(s)),t}function m(e){return e!==null&&typeof e=="object"?e.valueOf():e}function x(e){return e}function j(e,...n){return i(e,Array.from,x,n)}function w(e,n,...t){return i(e,Array.from,n,t)}function i(e,n,t,s){return function o(c,p){if(p>=s.length)return t(c);const u=new y,d=s[p++];let l=-1;for(const r of c){const f=d(r,++l,c),g=u.get(f);g?g.push(r):u.set(f,[r])}for(const[r,f]of u)u.set(r,o(f,p));return n(u)}(e,0)}export{y as I,M as d,A as e,j as g,w as r};
