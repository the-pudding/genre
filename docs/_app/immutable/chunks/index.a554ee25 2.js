import{a as P}from"./index.91d6fa0d.js";import{M as q}from"./scheduler.14db351c.js";function F(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function G(e,t){e.d(1),t.delete(e.key)}function H(e,t,s,i,p,M,o,O,k,S,a,A){let u=e.length,d=M.length,h=u;const w={};for(;h--;)w[e[h].key]=h;const l=[],g=new Map,y=new Map,N=[];for(h=d;h--;){const n=A(p,M,h),c=s(n);let f=o.get(c);f?i&&N.push(()=>f.p(n,t)):(f=S(c,n),f.c()),g.set(c,l[h]=f),c in w&&y.set(c,Math.abs(h-w[c]))}const j=new Set,x=new Set;function m(n){P(n,1),n.m(O,a),o.set(n.key,n),a=n.first,d--}for(;u&&d;){const n=l[d-1],c=e[u-1],f=n.key,r=c.key;n===c?(a=n.first,u--,d--):g.has(r)?!o.has(f)||j.has(f)?m(n):x.has(r)?u--:y.get(f)>y.get(r)?(x.add(f),m(n)):(j.add(r),u--):(k(c,o),u--)}for(;u--;){const n=e[u];g.has(n.key)||k(n,o)}for(;d;)m(l[d-1]);return q(N),l}function J(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}class K extends Map{constructor(t,s=C){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),t!=null)for(const[i,p]of t)this.set(i,p)}get(t){return super.get(I(this,t))}has(t){return super.has(I(this,t))}set(t,s){return super.set(z(this,t),s)}delete(t){return super.delete(B(this,t))}}function I({_intern:e,_key:t},s){const i=t(s);return e.has(i)?e.get(i):s}function z({_intern:e,_key:t},s){const i=t(s);return e.has(i)?e.get(i):(e.set(i,s),s)}function B({_intern:e,_key:t},s){const i=t(s);return e.has(i)&&(s=e.get(i),e.delete(i)),s}function C(e){return e!==null&&typeof e=="object"?e.valueOf():e}export{K as I,G as a,J as d,F as e,H as u};
